S1(x) = (x>=0 && x<1)?1:0
S2(x) = (x>=2 && x<4)?1:0
S3(x) = (x>=6 && x<7)?1:0
S4(x) = (x>=8 && x<11)?1:0
S5(x) = (x>=12 && x<13)?1:0
S6(x) = (x>=14 && x<16)?1:0
S(x) = S1(x)+S2(x)+S3(x)+S4(x)+S5(x)+S6(x)
set xtics -1,1,17
set ytics -1,1,2
plot [-0.5:16.5][-0.5:1.5] S(x)

pi = 3.14159265358979
p(x) = 1*sin((pi/2)*x)
m(x) = sin((pi/2*x+(1-S(x)))